{% load static %}
<!DOCTYPE html>
<html lang="vi"> <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Các Bài Viết Blog - Khách sạn Paradise Đà Nẵng</title> <link rel="stylesheet" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="{% static 'styles.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <style>
        /* Thêm một vài style cơ bản nếu style.css và styles.css không đủ */
        body {
            font-family: Arial, sans-serif; /* Đảm bảo font hỗ trợ tiếng Việt */
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.6;
        }
        .rooms-section h1, .rooms-section > p:first-of-type { /* Nhắm mục tiêu p đầu tiên trong rooms-section */
            text-align: center;
        }
        .rooms-section h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .rooms-section > p:first-of-type {
            color: #555;
            font-size: 1.1rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 20px;
        }
        .breadcrumb {
            text-align: center;
            margin-bottom: 20px; /* Giảm margin bottom nếu nút Post Blog ở ngay dưới */
            font-size: 0.9rem;
            color: #777;
        }
        .breadcrumb a {
            color: #007bff;
            text-decoration: none;
        }
        .breadcrumb .current {
            color: #333;
            font-weight: bold;
        }
        .post-blog-section { /* Class mới cho khu vực nút "Post a Blog" */
            text-align: center;
            margin-bottom: 30px;
        }
        .post-blog-button-container {
            display: inline-block;
            background-color: #f0f8ff; /* Màu nền nhẹ nhàng */
            color: #333; /* Màu chữ cho p */
            padding: 25px;
            border-radius: 15px;
            font-size: 1rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
        .post-blog-button-container a.btn { /* Nút "Đăng bài viết" */
            background-color: #28a745; /* Màu xanh lá cây */
            color: #ffffff;
            text-decoration: none;
            font-weight: bold;
            padding: 12px 25px;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }
        .post-blog-button-container a.btn:hover {
            background-color: #218838;
        }
        .post-blog-button-container p {
            margin: 20px 0 0; /* Điều chỉnh margin */
            font-size: 0.95rem;
        }

        .filters {
            text-align: center;
            margin-bottom: 30px;
            padding: 10px 0;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .filters .filter {
            margin: 0 10px;
            padding: 8px 15px;
            color: #007bff;
            text-decoration: none;
            border-radius: 20px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .filters .filter:hover {
            background-color: #e9ecef;
            color: #0056b3;
        }
        .filters .filter.active {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .container { /* style cho grid đã có inline, có thể chuyển vào đây */
             /* display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; max-width: 1200px; margin: 0 auto; padding: 20px; */
        }
        .room-card { /* style cho card đã có inline, có thể chuyển vào đây */
            /* background: #fff; border: 1px solid #ddd; border-radius: 5px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); */
        }
        .room-card img {
            transition: transform 0.3s ease;
        }
        .room-card:hover img {
            transform: scale(1.05);
        }
        .room-details .info span {
            margin-right: 10px;
        }
        .room-details h3 a:hover {
            color: #007bff;
        }
        .no-blogs-message { /* Style cho thông báo không có bài viết */
            grid-column: span 3; /* Đảm bảo chiếm cả 3 cột nếu grid được áp dụng */
            text-align: center;
            font-size: 18px;
            color: #777;
            padding: 40px 20px; /* Tăng padding */
        }

    </style>
</head>
<body>
    {% include 'navbar.html' %} <section class="rooms-section" style="padding-top: 20px;">
        <h1>Bài Viết Của Chúng Tôi</h1> <p>"Khám phá blog của chúng tôi để biết các mẹo du lịch, câu chuyện địa phương và thông tin chi tiết về Đà Nẵng và Khu nghỉ dưỡng Paradise Đà Nẵng. Bạn có thể duyệt theo danh mục."</p> <div class="breadcrumb">
            <span><a href="{% url 'home' %}">Trang chủ</a></span> > <span class="current">Bài viết</span> </div> <br>
        <div class="post-blog-section">
            <div class="post-blog-button-container">
                <a href="{% url 'blog:create_blog' %}" class="btn">Đăng bài viết mới</a> <p>Chia sẻ trải nghiệm của bạn với chúng tôi!</p> </div>
        </div>
    </section>

    <section class="rooms-section">
        <div class="filters">
            <a href="{% url 'blog:blog_list' %}?category=all" class="filter {% if selected_category == 'all' or not selected_category %}active{% endif %}">Tất cả Bài viết</a> {% for category in categories %}
                <a href="{% url 'blog:blog_list' %}?category={{ category.name|slugify }}" class="filter {% if selected_category == category.name|slugify %}active{% endif %}">{{ category.name }}</a>
                {% endfor %}
        </div>
    </section>

    <section class="container" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; padding: 20px;">
    {% for blog in blogs %}
            <div class="room-card" style="background: #fff; border: 1px solid #eee; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.05); display: flex; flex-direction: column;">
                <a href="{% url 'blog:blog_detail' blog.id %}" style="display: block; height: 220px; overflow: hidden;"> {% if blog.image1 %}
                        <img src="{{ blog.image1.url }}" alt="{{ blog.title }}" style="width: 100%; height: 100%; object-fit: cover; display: block;">
                    {% else %}
                        <img src="{% static 'images/placeholder.jpg' %}" alt="Không có hình ảnh" style="width: 100%; height: 100%; object-fit: cover; display: block;"> {% endif %}
                </a>

                <div class="room-details" style="padding: 20px; flex-grow: 1; display: flex; flex-direction: column;">
                    <div class="info" style="font-size: 0.85rem; color: #777; margin-bottom: 10px;">
                         <span>Tác giả: {{ blog.author.get_full_name }}</span> <br>
                        <span>Danh mục: {{ blog.category.name }} | Ngày đăng: {{ blog.created_at|date:"d/m/Y" }}</span>
                    </div>

                    <h3 style="margin: 0 0 10px; font-size: 1.4rem; line-height: 1.3;">
                         <a href="{% url 'blog:blog_detail' blog.id %}" style="text-decoration: none; color: #333; font-weight: bold;">{{ blog.title }}</a>
                    </h3>

                    <p style="margin: 0 0 15px; font-size: 1rem; color: #555; line-height: 1.6; flex-grow: 1;">
                        {{ blog.description|truncatewords:20 }}
                    </p>
                    <a href="{% url 'blog:blog_detail' blog.id %}" style="color: #007bff; text-decoration: none; font-weight: bold; font-size: 0.9rem;">Đọc thêm →</a> </div>
            </div>
        {% empty %}
            <p class="no-blogs-message">Không có bài viết nào trong danh mục này.</p> {% endfor %}
    </section>
    {% include 'footer.html' %} </body>
</html>